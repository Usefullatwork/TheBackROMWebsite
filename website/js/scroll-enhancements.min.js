function initScrollController(){const t=document.querySelector(".header"),e=document.querySelector(".back-to-top-btn");let o=window.pageYOffset,n=!1;function i(){const i=window.pageYOffset;t&&(i>100?t.classList.add("scrolled"):t.classList.remove("scrolled")),e&&(i>300?(e.style.opacity="1",e.style.visibility="visible",e.style.transform="translateY(0)"):(e.style.opacity="0",e.style.visibility="hidden",e.style.transform="translateY(20px)")),o=i,n=!1}window.addEventListener("scroll",function(){n||(window.requestAnimationFrame(i),n=!0)},{passive:!0}),e&&e.addEventListener("click",function(t){t.preventDefault(),this.style.transform="scale(0.9)",window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{window.pageYOffset>300?this.style.transform="translateY(0) scale(1)":this.style.transform="translateY(20px) scale(1)"},150)})}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(t){const e=this.getAttribute("href");if("#"===e||!e)return;const o=document.querySelector(e);if(!o)return;t.preventDefault();const n=document.querySelector(".header"),i=n?n.offsetHeight:0,s=o.getBoundingClientRect().top+window.pageYOffset-i-20;window.scrollTo({top:s,behavior:"smooth"}),history.pushState(null,null,e)})})}document.addEventListener("DOMContentLoaded",function(){initScrollController(),initSmoothScroll()});